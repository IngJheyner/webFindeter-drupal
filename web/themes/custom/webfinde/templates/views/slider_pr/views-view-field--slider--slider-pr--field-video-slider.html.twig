{#
/**
 * @file
 * Theme override for a single field in a view.
 *
 * Available variables:
 * - view: The view that the field belongs to.
 * - field: The field handler that can process the input.
 * - row: The raw result of the database query that generated this field.
 * - output: The processed output that will normally be used.
 *
 * When fetching output from the row this construct should be used:
 * data = row[field.field_alias]
 *
 * The above will guarantee that you'll always get the correct data, regardless
 * of any changes in the aliasing that might happen if the view is modified.
 *
 * @see template_preprocess_views_view_field()
 */
#}

{#{ drupal_dump(field) }#}

{% set type =  output|split('.') %}

{% set link = field.last_tokens["{{ field_link_slider }}"] is empty ? '#' : field.last_tokens["{{ field_link_slider }}"] %}

{% set target = field.last_tokens["{{ field_link_slider }}"] is empty ? '' : "target='_blank'" %}

{% if type[1] == 'mp4' %}

<a href="{{ link }}" {{ target }}><video webkit-playsinline="" data-covervideo-video="" playsinline="" loop="" muted="muted" autoplay="" width="100%" id="videoHome">
    <source src="{{ file_url(output) -}}" type="video/mp4"></a>
</video>

{% else %}

<a href="{{ link }}" {{ target }}><img src="{{ file_url(output) }}" width="100%"></a>

{% endif %}
